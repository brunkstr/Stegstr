# Lint GitHub Actions workflow files to catch syntax and common mistakes.
# Runs on every push and pull request to main/release.

name: Lint workflows

on:
  push:
    branches:
      - main
      - release
  pull_request:
    branches:
      - main
      - release

jobs:
  actionlint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Run actionlint
        run: |
          VERSION="v1.7.0"
          curl -sSL "https://github.com/rhysd/actionlint/releases/download/${VERSION}/actionlint_1.7.0_linux_amd64.tar.gz" | tar xz
          chmod +x actionlint
          ./actionlint -color
